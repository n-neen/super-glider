enemy setup

if any enemy routine pointer = 0 then it is ignored

balloon: {
    property = speed
        XYYY, where
        X = pixels per frame
        YYY = 0.YYY0
        
    palette bitmask high byte (properties 2)
        timer for respawn
        ff00 = 00ff frames
}

duct: {
    palette bitmask high byte (properties 2)
        $8000 bit = ceiling duct
        
    property
        00ff
        low byte = room index to travel to
        
        ff00
        high byte = output x position
        
    property3 didn't exist when i wrote this, so it could be used for output y pos
}

battery: {
    property
        amount of battery time
}

switch: {
    property
        data for target (its property)
    property2 (enemypal)
        $0200 bit = spritemap selection
        $8000 bit = local switch
    property3
        %rrrrrrrrssiiiiit
         
        r = room index of target                        ;ignored if switch is local
        s = property select of target                   ;not yet implemented if local
        t = type select: enemy (0) or object (1)
        i = index of target
            see defines.asm for array sizes, but currently this is:
            enemies = $28, objects = $30
            i.e., first object in room is index $30, second is $2e, etc
        
        table for s:
        
        for objects:
            dw !objvariable,        0       00
               !objproperty,        2       40
               !objpal              4       80
               
        for enemies:
            dw !enemyproperty,      0       00
               !enemyproperty2,     2       40
               !enemyproperty3      4       80

    enemyvariable:
        spritemap select
            0000 = on
            0002 = off
            
    only affects enemies and objects in other rooms
}

thermostat: {
    property   = object index target
    property 3 = data to pass to object's variable
    
    only affects an object in the same room
}

all prizes: {
    (battery, extra life, clock, bands, foil)
    property3:
        item index bit
        each room gets one word, so a room can only have 16 prizes
        each item gets one bit and it must be unique
}

copter: {
    property:
        x speed.subspeed [speed is signed, subspeed is not]
            ssbb
            ss = speed
            bb = bb00 subspeed
    property2:
        high byte:
            %tttttttd
            d = select left or right
            t = respawn timer
        low byte:
            sprite properties
            
    property3:
        y speed.subspeed:
            ssbb
            ss = speed
            bb = bb00 subspeed
}

drip: {
    property = timer
    property3 is passed to drop enemy as property
        used as subspeed
        drop speed is 2.xxxx, where x is the property3 of the drip that spawns it
}

dart:
    unfinished, todo
    
grease: {
    property1 = spritemap selection
        grease jar left  = 0
        grease jar right = 2
        grease grease    = 4
}
    
roomlink: {
    %rrrrrrrrssiiiiit, $dddd
    
    r = room index of target
    s = property select of target
    t = type select (enemy or object)
    
    d = data to write
}