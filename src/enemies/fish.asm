fish: {
    .header:
        dw  spritemap_pointers_fish,    ;spritemaps
            $0040,                      ;xsize
            $002e,                      ;ysize
            $0000,                      ;init
            fish_main,                  ;main
            fish_touch,                 ;touch
            fish_shot                   ;shot
            
            
    .main: {
        phx
        phb
        
        phk
        plb
        
        jsr fish_bob
        
        lda !roomcounter
        bit #$0020
        bne +
        
        lda !enemyproperty3,x
        inc
        sta !enemyproperty3,x
        cmp #$000c
        bpl ++
        asl
        tay
        
        lda fish_animationframes,y
        clc
        adc #spritemap_pointers_fish
        sta !enemyspritemapptr,x
        
        +
        plb
        plx
        rts
        
        ++
        stz !enemyproperty3,x
        plb
        plx
        rts
    }
    
    .bob: {
        lda !enemyproperty,x
        inc
        sta !enemyproperty,x
        asl
        tay
        
        lda fish_verticaloffset,y
        cmp #$8000
        beq +
        clc
        adc !enemyy,x
        sta !enemyy,x
        
        rts
        
        +
        stz !enemyproperty,x
        rts
    }
    
    .touch: {
        rts
    }
    
    .shot: {
        rts
    }
    
    
    .animationframes: {
        dw  $0000,
            $0000,
            $0002,
            $0002,
            $0002,
            $0004,
            $0004,
            $0004,
            $0006,
            $0006,
            $0004,
            $0002,
            $0002,
            $0002,
            $0002,
            $0000,
            $0000,
            $0000
    }
    
    .verticaloffset: {
        ;god this is stupid
        dw $ffff, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $ffff, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $ffff, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $ffff, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0001, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0001, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $0001, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000, $0000,
           $8000
    }
}